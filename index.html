<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Langini Meteo – Dashboard V8.7 CHRISTMAS SKY (Protected)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://unpkg.com/suncalc@1.9.0/suncalc.js"></script>

  <style>
    :root {
      --card-bg: #ffffff;
      --card-text: #000;
      --accent: #ffb300;
    }

    * { margin:0; padding:0; box-sizing:border-box; }

    body {
      font-family: system-ui, -apple-system, "Segoe UI", Roboto;
      background:#000814;
      color:#fff;
      height:100vh;
      display:flex;
      flex-direction:column;
    }

    /* ====== OVERLAY PASSWORD ====== */
    #lockScreen {
      position:fixed;
      inset:0;
      background:radial-gradient(circle at top, #1f2937, #020617);
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:999;
    }

    .lock-card {
      background:#0b1120;
      padding:24px 20px;
      border-radius:18px;
      box-shadow:0 18px 45px rgba(0,0,0,0.7);
      max-width:320px;
      width:90%;
      text-align:center;
      border:1px solid rgba(148,163,184,0.4);
    }

    .lock-title {
      font-size:1.1rem;
      margin-bottom:8px;
    }

    .lock-sub {
      font-size:0.85rem;
      color:#9ca3af;
      margin-bottom:14px;
    }

    .lock-input {
      width:100%;
      padding:10px;
      border-radius:10px;
      border:1px solid #4b5563;
      background:#020617;
      color:#e5e7eb;
      outline:none;
      margin-bottom:10px;
    }

    .lock-btn {
      width:100%;
      padding:10px;
      border-radius:10px;
      border:none;
      background:#f97316;
      color:#fff;
      font-weight:600;
      cursor:pointer;
      box-shadow:0 0 12px rgba(249,115,22,0.8);
    }

    .lock-btn:hover {
      filter:brightness(1.1);
    }

    .lock-error {
      margin-top:8px;
      font-size:0.8rem;
      color:#f97373;
      min-height:1em;
    }

    /* ====== CIELO ====== */
    .sky {
      position:relative;
      flex:1;
      background:#1f2b3a;   /* giorno */
      transition:background 1.2s linear;
      overflow:hidden;
    }

    .sky.night { background:#000814; }

    /* ⭐ STELLE FISSE (TWINKLE) */
    .stars {
      position:absolute;
      inset:0;
      pointer-events:none;
      z-index:0;
      opacity:0;
      transition:opacity 1s ease;
    }

    .star {
      position:absolute;
      width:2px;
      height:2px;
      background:white;
      border-radius:50%;
      opacity:0;
      animation: twinkle 3s ease-in-out infinite;
    }

    @keyframes twinkle {
      0%   { opacity:0;   transform:scale(0.8); }
      50%  { opacity:1;   transform:scale(1.5); }
      100% { opacity:0;   transform:scale(0.8); }
    }

    /* ⭐ METEORE FREQUENTI */
    .meteor {
      position:absolute;
      width:140px;
      height:3px;
      opacity:0;
      background:linear-gradient(90deg, rgba(255,255,255,1), transparent);
      transform:rotate(30deg);
      z-index:10;
      pointer-events:none;
    }

    @keyframes meteorMove {
      0%   { opacity:0; transform:translate(0,0) rotate(30deg); }
      10%  { opacity:1; }
      100% { opacity:0; transform:translate(600px,300px) rotate(30deg); }
    }

    /* ⭐ STELLA COMETA */
    .comet {
      position:absolute;
      top:12vh;
      left:-200px;
      width:60px;
      height:60px;
      border-radius:50%;
      background:radial-gradient(circle, #ffffff, #ffe9a3, #ffcc00);
      box-shadow:0 0 25px 12px rgba(255,200,0,0.7);
      opacity:0;
      z-index:9;
      transition:left 2s linear, top 2s linear, opacity 1.2s ease;
    }

    .comet.big {
      width:140px;
      height:140px;
      box-shadow:0 0 55px 28px rgba(255,240,0,1);
    }

    .comet-tail {
      position:absolute;
      right:100%;
      top:50%;
      transform:translateY(-50%);
      width:220px;
      height:40px;
      background:linear-gradient(90deg, rgba(255,255,200,0.5), rgba(255,255,200,0));
      filter:blur(8px);
      border-radius:40px;
    }

    /* ====== LAYER METEO ESISTENTI ====== */

    .cloud-layer {
      position:absolute;
      inset:0;
      pointer-events:none;
      opacity:0 !important;
    }

    .aurora {
      position:absolute;
      top:5%;
      left:0;
      width:100%;
      height:35%;
      background:linear-gradient(180deg, rgba(120,255,200,0.45), rgba(80,120,255,0));
      opacity:0;
      z-index:1;
      filter:blur(6px);
      transition:opacity 1s ease;
      pointer-events:none;
      animation: auroraMove 12s ease-in-out infinite alternate;
    }

    @keyframes auroraMove {
      0% { transform:translateX(-3%);}
      100%{ transform:translateX(4%);}
    }

    .fog {
      position:absolute;
      bottom:0;
      left:-10%;
      width:120%;
      height:30%;
      background:radial-gradient(circle at 40% 80%, rgba(255,255,255,0.2), transparent 60%);
      opacity:0;
      filter:blur(5px);
      transition:opacity 1s ease;
      pointer-events:none;
      z-index:2;
      animation:fogFloat 40s linear infinite;
    }

    @keyframes fogFloat {
      0% { transform:translateX(0);}
      100%{ transform:translateX(5%);}
    }

    .lightning {
      position:absolute;
      inset:0;
      background:radial-gradient(circle at 50% 0%, rgba(255,255,255,0.85), transparent 60%);
      opacity:0;
      transition:opacity 0.2s ease;
      pointer-events:none;
      z-index:5;
    }

    .lightning.flash { opacity:0.8; }

    .shooting-star {
      position:absolute;
      top:-5%;
      left:-5%;
      width:120px;
      height:2px;
      background:linear-gradient(90deg, rgba(255,255,255,0.9), transparent);
      opacity:0;
      transform:rotate(25deg);
      pointer-events:none;
      z-index:4;
    }

    .shooting-star.active {
      animation: shooting 1.2s ease-out forwards;
    }

    @keyframes shooting {
      0% {opacity:0; transform:translate(-10vw,-10vh) rotate(25deg);}
      20%{opacity:1;}
      100%{opacity:0; transform:translate(40vw,40vh) rotate(25deg);}
    }
